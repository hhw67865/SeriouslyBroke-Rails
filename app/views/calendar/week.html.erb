<div class="px-4 sm:px-6 lg:px-8 py-6 font-light">
  <div class="flex items-center justify-between mb-6">
    <div class="flex items-center gap-3">
      <%= link_to calendar_path(@presenter.month_path_params),
          class: "inline-flex items-center gap-2 px-3 py-2 rounded border border-gray-300 bg-white text-sm hover:bg-gray-100 shadow-sm transition" do %>
        <%= heroicon "arrow-left", options: { class: "w-4 h-4" } %>
        Monthly
      <% end %>
      <h1 class="text-xl font-medium text-gray-900">Week of <%= @presenter.range_label %></h1>
    </div>
    <div class="flex gap-2">
      <%= link_to calendar_week_path(date: @presenter.prev_week_date),
          class: "inline-flex items-center px-3 py-2 rounded border border-gray-300 bg-white hover:bg-gray-100 shadow-sm transition" do %>
        <%= heroicon "chevron-left", options: { class: "w-5 h-5" } %>
      <% end %>
      <%= link_to calendar_week_path(date: @presenter.next_week_date),
          class: "inline-flex items-center px-3 py-2 rounded border border-gray-300 bg-white hover:bg-gray-100 shadow-sm transition" do %>
        <%= heroicon "chevron-right", options: { class: "w-5 h-5" } %>
      <% end %>
      <%= link_to new_entry_path,
          class: "ml-3 inline-flex items-center gap-2 px-3 py-2 rounded bg-brand text-on-dark hover:bg-brand-dark shadow-sm transition" do %>
        <%= heroicon "plus", options: { class: "w-4 h-4" } %>
        Create Entry
      <% end %>
    </div>
  </div>

  <div class="calendar-week-columns mb-8">
    <% @presenter.days.each do |day| %>
      <%= render "calendar/week_day_column", day: day %>
    <% end %>
  </div>

  <div class="mt-8 pt-8 border-t border-gray-200">
    <h2 class="text-lg font-medium text-gray-900 mb-4">Weekly Summary</h2>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
      <% CategoryTypeHelper::CATEGORY_TYPES.each do |type| %>
        <%= render "calendar/week_summary_card",
            type: type,
            breakdown: @presenter.weekly_breakdown[type] %>
      <% end %>
    </div>
  </div>
</div>
