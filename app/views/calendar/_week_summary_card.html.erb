<%# locals: (type:, breakdown:) %>
<div class="rounded border border-gray-200 bg-white shadow-sm overflow-hidden">
  <div class="px-4 py-3 bg-gray-50 border-b border-gray-200 flex justify-between items-center">
    <span class="font-medium text-gray-700"><%= category_type_plural(type) %></span>
    <span class="font-bold <%= category_type_color(type) %>">
      <%= format_amount_with_sign(breakdown[:total], type) %>
    </span>
  </div>
  <ul class="divide-y divide-gray-100">
    <% sorted_categories = breakdown[:categories].sort_by { |_, amount| -amount } %>
    <% if sorted_categories.empty? %>
      <li class="px-4 py-3 text-sm text-gray-500 italic text-center">No entries</li>
    <% else %>
      <% sorted_categories.each do |category_name, amount| %>
        <li class="px-4 py-2 flex justify-between items-center text-sm hover:bg-gray-50">
          <span class="text-gray-600"><%= category_name %></span>
          <span class="font-medium text-gray-900"><%= number_to_currency(amount) %></span>
        </li>
      <% end %>
    <% end %>
  </ul>
</div>
